<!DOCTYPE html>
<html lang="en-US">
    <head>
        <title>Text Detection Results</title>
        <style>
            /* Apply CSS to control image size */
            img {
                max-width: 50%; /* Ensure the image fits within its container */
                height: auto; /* Maintain aspect ratio */
                border: 4px solid #000;
            }
        </style>
    </head>
    <body>
        <h1>Text Detection Results</h1>
        <img
            src="{{ url_for('static', filename='images/' + image_path) }}"
            alt="Uploaded Image"
        />
        <p>{{ image_path }}</p>

        <!-- Display Detected Language -->
        <p>Detected Language: {{ detectedLanguage }}</p>

        <!-- Dropdown for Language Selection -->
        <label for="language">Select Language:</label>
        <select id="language" name="language"></select>

        <!-- Button for Translation -->
        <button id="translateButton">Translate</button>

        <h2>Extracted Text:</h2>
        <p>{{ extracted_text | safe }}</p>
        <a href="/">Back to Upload</a>

        <script>
            const languageDropdown = document.getElementById("language");
            const allLanguages = [
                "English",
                "Chinese",
                "Spanish",
                "French",
                "German",
            ];
            const detectedLanguage = "{{ detectedLanguage }}";

            (() => {
                for (const language of allLanguages) {
                    if (language !== detectedLanguage) {
                        const option = document.createElement("option");
                        option.value = language;
                        option.textContent = language;
                        languageDropdown.appendChild(option);
                    }
                }
            })();
        </script>
    </body>
</html>
